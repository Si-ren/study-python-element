---
- name: "测试百度网页"
  retry: 3
  retry_interval: 2  # 失败后等待2秒再重试
  fail_fast: true
  request:
    url: http://www.baidu.com
    method: get
    headers:
      Content-Type: application/json
    params:
      t1: ${read_yaml(task_id)}
      t2: v2
      t3: v3
  extract:
    task_id: [content,"cp-feedback",0]
  validate:
    equals:
      status_code: 200
#    contains:
#      content: "asdasdadasd"

- name: "test qq"
  retry: 2
  retry_interval: 5  # 失败后等待5秒再重试
  fail_fast: false
  request:
    url: https://www.qq.com
    method: get
    headers:
      Content-Type: application/json
    params:
      t1: v1
      t2: v2
      t3: v3
  validate:
    equals:
      status_code: 200
#    db_contains:
#      "select * from ss where id=xxx": xxxxx
